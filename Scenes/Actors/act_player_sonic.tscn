[gd_scene load_steps=14 format=3 uid="uid://cyjbdi347hyhd"]

[ext_resource type="Script" path="res://Actors/Players/Sonic.cs" id="1_splnw"]
[ext_resource type="AudioStream" uid="uid://c7smi58wkyhhm" path="res://Assets/Audio/Sounds/Metal/snd_jump.wav" id="3_hh371"]
[ext_resource type="AudioStream" uid="uid://bsbgp1csl4cos" path="res://Assets/Audio/Sounds/Metal/snd_spindash_hold.wav" id="3_xb38u"]
[ext_resource type="AudioStream" uid="uid://chgjsejm2jvhc" path="res://Assets/Audio/Sounds/Metal/snd_spindash_release.wav" id="4_nw1sy"]
[ext_resource type="PackedScene" uid="uid://dkcu7fsvcyis3" path="res://Assets/Visual/Models/mdl_metalSonic.blend" id="6_n7joc"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_wa5yb"]
radius = 0.3

[sub_resource type="SphereShape3D" id="SphereShape3D_8e37d"]
radius = 0.58

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_3l85c"]
specular_mode = 1
albedo_color = Color(0.241793, 5.10186e-05, 0.8817, 1)
metallic = 1.0
metallic_specular = 0.68
roughness = 0.27

[sub_resource type="SphereMesh" id="SphereMesh_qhobh"]
material = SubResource("StandardMaterial3D_3l85c")
radius = 0.6
height = 1.2
radial_segments = 12
rings = 8

[sub_resource type="Animation" id="Animation_1hce8"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 0, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("..:rotation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 0, 0)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("..:scale")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0.682784, 1.09072, 0.698563)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("..:position")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, -0.161624, -0.247377)]
}

[sub_resource type="Animation" id="Animation_q8sbu"]
resource_name = "speen"
length = 0.35
loop_mode = 1
step = 0.05
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.35),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0, 0, 0), Vector3(-6.28319, 0, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("..:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.35),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0, -0.3, 0), Vector3(0, -0.3, 0)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("..:rotation")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.35),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0, 0, 0), Vector3(0, 0, 0)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("..:scale")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 0.35),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(1, 1, 1), Vector3(1, 1, 1)]
}

[sub_resource type="Animation" id="Animation_fpqil"]
resource_name = "speendash"
length = 0.35
loop_mode = 1
step = 0.05
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.35),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0, 0, 0), Vector3(-6.28319, 0, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("..:rotation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.35),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0.790791, 0, 0), Vector3(0.790791, 0, 0)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("..:scale")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.35),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0.8, 1.2, 0.8), Vector3(0.8, 1.2, 0.8)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("..:position")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 0.35),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0, -0.161624, -0.247377), Vector3(0, -0.161624, -0.247377)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_yjqa6"]
_data = {
"RESET": SubResource("Animation_1hce8"),
"speen": SubResource("Animation_q8sbu"),
"speendash": SubResource("Animation_fpqil")
}

[node name="Sonic" type="CharacterBody3D"]
collision_layer = 2
floor_stop_on_slope = false
floor_snap_length = 1.0
script = ExtResource("1_splnw")
animatorPath = NodePath("mdl_metalSonic/AnimationPlayer")
standingColliderPath = NodePath("StandingShape")
ballColliderPath = NodePath("BallShape")
standingModelPath = NodePath("mdl_metalSonic")
ballModelPath = NodePath("Ball")
floorCastPath = NodePath("FloorCast")
spinHoldSoundPath = NodePath("SpinChargeSound")
spinReleaseSoundPath = NodePath("SpinReleaseSound")
jumpSoundPath = NodePath("JumpSound")
startingSpeed = 4.0
joggingSpeed = 15.0
runningSpeed = 25.0
sprintingSpeed = 35.0
maximumSpeed = 75.0
acceleration = 12.0
deceleration = 30.0
airAcceleration = 12.0
airDeceleration = 20.0
turnSpeed = 15.0
turnFriction = 1.0
jumpableStates = [0, 1, 4]
maxJumpHeight = 6.0
minimumDashSpeed = 15.0
maximumDashSpeed = 55.0
animations = {
"Idle": "Idle",
"Jet": "Jet",
"Jog": "Walk",
"Run": "Run",
"SpringJump": "Jump",
"Sprint": "Sprint",
"StandFall": "Fall"
}

[node name="StandingShape" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.2, 0)
shape = SubResource("CapsuleShape3D_wa5yb")

[node name="BallShape" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.49012e-08, 0)
shape = SubResource("SphereShape3D_8e37d")
disabled = true

[node name="mdl_metalSonic" parent="." instance=ExtResource("6_n7joc")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.8, 0)

[node name="Skeleton3D" parent="mdl_metalSonic/Armature" index="0"]
bones/0/position = Vector3(0, -0.236746, 0)
bones/0/rotation = Quaternion(0, 0.707107, 0.707107, 0)
bones/1/position = Vector3(1.01042e-07, 1.14339e-07, 5.19479)
bones/1/rotation = Quaternion(-0.00146213, 0.916689, 0.397232, 0.0434153)
bones/2/rotation = Quaternion(-0.309239, 0.0190403, 0.0347088, 0.95016)
bones/3/rotation = Quaternion(0.673508, 0.329243, -0.619342, -0.233241)
bones/4/rotation = Quaternion(0.00348703, 0.105597, -8.70773e-05, 0.994403)
bones/4/scale = Vector3(1, 1, 1)
bones/5/rotation = Quaternion(0.051119, -0.153346, -0.0350274, 0.986228)
bones/6/rotation = Quaternion(-0.0420442, -0.331098, 0.931364, 0.145491)
bones/6/scale = Vector3(1, 1, 1)
bones/7/rotation = Quaternion(0.0034642, -0.105591, 8.65264e-05, 0.994404)
bones/8/rotation = Quaternion(0.105452, -0.699316, 0.100609, 0.699797)
bones/9/position = Vector3(-0.157111, -1.69132, 6.66391)
bones/9/rotation = Quaternion(0.858294, -0.0104371, -0.512533, -0.0230933)
bones/9/scale = Vector3(1, 0.319982, 1.00022)
bones/10/rotation = Quaternion(-0.0203179, 0.438084, -0.898674, -0.00746345)
bones/10/scale = Vector3(1, 1, 1)
bones/11/rotation = Quaternion(0.363999, 0.00190499, -0.0188855, 0.931206)
bones/11/scale = Vector3(1, 1, 1)
bones/12/rotation = Quaternion(-0.367964, -0.467803, 0.164803, 0.786513)
bones/12/scale = Vector3(1.08094, 1, 0.911223)
bones/13/position = Vector3(-0.755486, -4.26102, 3.25719)
bones/13/rotation = Quaternion(-0.000412418, 0.707107, -0.707107, 0.000412418)
bones/13/scale = Vector3(1, 1, 1)
bones/14/position = Vector3(-0.640632, 1.35628, 3.47327)
bones/14/rotation = Quaternion(-7.94371e-08, 1, 4.63409e-11, 0.000583367)
bones/14/scale = Vector3(1, 1, 1)
bones/15/position = Vector3(-1.84103, -3.17859, 6.09288)
bones/16/position = Vector3(-2.25244, 1.69478, 6.02139)
bones/16/rotation = Quaternion(3.09086e-08, 0.707107, 0.707107, 3.09086e-08)
bones/17/rotation = Quaternion(0.0124344, 0.928995, -0.369573, 0.0151841)
bones/17/scale = Vector3(1, 1, 1)
bones/18/rotation = Quaternion(0.0048091, -0.0020457, 0.000249512, 0.999986)
bones/18/scale = Vector3(1, 1, 1)
bones/19/rotation = Quaternion(-0.604822, 0.399122, -0.316482, 0.612153)
bones/19/scale = Vector3(0.928643, 1.15025, 0.924711)
bones/20/position = Vector3(0.755486, 3.53746, 1.42433)
bones/20/scale = Vector3(1, 1, 1)
bones/21/position = Vector3(0.640631, 2.36097, 4.10926)
bones/21/rotation = Quaternion(4.63491e-11, 0.00058347, -7.9437e-08, 1)
bones/22/position = Vector3(1.81486, -2.79913, 5.94352)
bones/23/position = Vector3(1.20087, -1.94485, 7.4234)
bones/23/rotation = Quaternion(3.09086e-08, 0.707107, 0.707107, 3.09086e-08)

[node name="AnimationPlayer" parent="mdl_metalSonic" index="1"]
autoplay = "Idle"

[node name="FloorCast" type="RayCast3D" parent="."]
target_position = Vector3(0, -1.5, 0)
hit_back_faces = false

[node name="Ball" type="Node3D" parent="."]
visible = false

[node name="Ball" type="Node3D" parent="Ball"]
transform = Transform3D(0.682784, 0, 0, 0, 1.09072, 0, 0, 0, 0.698563, 0, -0.161624, -0.247377)

[node name="Ball" type="MeshInstance3D" parent="Ball/Ball"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.3, 0)
mesh = SubResource("SphereMesh_qhobh")
skeleton = NodePath("../../..")

[node name="AnimationPlayer" type="AnimationPlayer" parent="Ball/Ball/Ball"]
libraries = {
"": SubResource("AnimationLibrary_yjqa6")
}
autoplay = "speen"

[node name="JumpSound" type="AudioStreamPlayer" parent="."]
stream = ExtResource("3_hh371")

[node name="SpinChargeSound" type="AudioStreamPlayer" parent="."]
stream = ExtResource("3_xb38u")

[node name="SpinReleaseSound" type="AudioStreamPlayer" parent="."]
stream = ExtResource("4_nw1sy")

[editable path="mdl_metalSonic"]
